<app-usermenu></app-usermenu>

<div class="principal">

    <div class="title">
        <h1>{{title}}</h1>
        <hr>
    </div>

    <div class="content">

        <div class="form">



            <form (ngSubmit)="onSubmit()" #postForm="ngForm">

                <div class="form-group">
                    <label for="txtname" class="form-label">Nome</label>
                    <input *ngIf="user.nameuser == 'Administrador'" type="text" name="txtname" id="txtname"
                        class="form-control" [(ngModel)]="useredit.nameuser" disabled>
                    <input *ngIf="user.nameuser != 'Administrador'" type="text" name="txtname" id="txtname"
                        class="form-control" [(ngModel)]="useredit.nameuser" required>
                </div>

                <div class="form-group">
                    <label for="txtemail" class="form-label">Email</label>
                    <input type="text" name="txtemail" id="txtemail" class="form-control"
                        [(ngModel)]="useredit.emailuser" (ngModelChange)="existUser()" required>
                    <div class="menssage">{{erroremail}}</div>
                </div>

                <div class="form-group">
                    <label for="txtpermission" class="form-label">Nível de Permissões: {{user.permission}}</label> |
                    <label for="txtstate" class="form-label">Estado: {{user.state}}</label>
                </div>

                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"
                            (click)="ativar()">
                        <label class="form-check-label" for="flexCheckChecked">Alterar Password</label>
                    </div>
                </div>

                <div class="form-group" *ngIf="alterarpassword == true">
                    <label for="txtpasswordnow" class="form-label">Password Atual</label>
                    <input type="password" name="txtpasswordnow" id="txtpasswordnow" class="form-control"
                        [(ngModel)]="antigapass" (ngModelChange)="atualpassword()" value="" autocomplete="off" required>
                    <div class="menssage">{{errorpasswordantiga}}</div>
                </div>

                <div class="form-group" *ngIf="alterarpassword == true">
                    <label for="txtpasswordnew" class="form-label">Nova Password</label>
                    <input type="password" name="txtpasswordnew" id="txtpasswordnew" class="form-control"
                        [(ngModel)]="novapass" autocomplete="off" required>
                </div>

                <div class="form-group" *ngIf="alterarpassword == true">
                    <label for="txtpasswordconfirm" class="form-label">Confirmar Password</label>
                    <input type="password" name="txtpasswordconfirm" id="txtpasswordconfirm" class="form-control"
                        [(ngModel)]="confirmpass" (ngModelChange)="confirmpassword()" autocomplete="off" required>
                    <div class="menssage">{{errorpassword}}</div>
                </div>

                <div class="form-group">
                    <hr class="hrsubmit">
                    <button type="submit" class="btn btn-secondary bt" id="btsubmit"
                        [disabled]="!postForm.form.valid">GRAVAR</button>
                    <button type="button" class="btn btn-secondary bt" id="btvoltar" (click)="onCancel()">
                        Cancelar</button>
                </div>


            </form>

            <div class="menssage form-group">{{menssage}}</div>

        </div>

    </div>

</div>